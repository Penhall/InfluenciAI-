# Plano de Implementação — InfluenciAI

Baseado e consolidado a partir de:

- `docs/Motivação/implementation-phases.md`
- `docs/Motivação/modular-implementation-roadmap.md`
- `docs/Motivação/roadmap-release-plan.md`
- `docs/Motivação/complete-project-backlog.md`

Princípios:

- Entregas incrementais orientadas a valor (feature flags)
- Qualidade e observabilidade desde o início
- Redução de risco com integrações progressivas (uma rede por vez)

Fase 1 – Foundation (Semanas 1–12)

- Arquitetura base (Clean Architecture, DI, MediatR)
- Persistência (PostgreSQL/EF Core), cache (Redis), mensageria (Service Bus/RabbitMQ)
- Identidade e Segurança: ASP.NET Core Identity + JWT (roles/políticas), CORS dinâmico por tenant; device code flow no desktop
- Observabilidade (logs/traces/metrics) e CI/CD inicial

Critérios de aceite:

- [x] Serviços esqueleto por domínio (Domain/Application/Infrastructure/API)
- [ ] Pipelines CI/CD com quality gates
- [x] Telemetria básica ativa
- [x] Auth base funcional (Identity + JWT), refresh tokens e CORS configurado

Progresso Atual (Fase 1)
- API Minimal com endpoints de Tenants e Auth (login/refresh/logout), HealthChecks, OpenTelemetry.
- Persistência com EF Core (PostgreSQL) + migrações + seed em Development.
- Desktop (WPF) com Login, Tenants (CRUD) e Usuários por tenant; auto-refresh de token no cliente.
- Testes unitários para Tenants e CORS; build/test locais estáveis.

Próximos Passos Imediatos
- Estabilizar testes de integração (WebApplicationFactory + InMemory compartilhado) e remover Skips.
- Pipeline CI: build/test, coleta de artefatos e quality gates; preparar CD por ambiente.
- Segurança: mover `Jwt:Key`/segredos para store seguro (User Secrets/Key Vault) e revisar políticas de refresh/expiração.
- Hardening da API: ProblemDetails padronizado, paginação em listagens, validações adicionais e logs de auditoria.
- Desktop (UX): feedback de sessão expirada, mensagens de erro consistentes, melhorias de navegação e validações de formulário.
- Operação: job de limpeza de refresh tokens expirados e dashboards básicos de observabilidade.

Fase 2 — Core Features (Semanas 13–24)

- Content & Publishing (modelo e API)
- Scheduling (calendário, fuso, janelas)
- Analytics v1 (métricas básicas e agregações)
- Integrações: Twitter/X end‑to‑end

Critérios de aceite:

- [ ] Publicação e coleta no Twitter/X
- [ ] Agendamento funcional com políticas por rede
- [ ] Relatórios básicos (dashboards e export)

Fase 3 — Multi‑Network & Automation (Semanas 25–36)

- Integrações: Instagram e LinkedIn
- Abstrações de rede unificadas
- Automation & Notifications (regras, alertas)

Critérios de aceite:

- [ ] Duas novas redes integradas
- [ ] Notificações e automações básicas

Fase 4 — UX & Release (Semanas 37–48)

- WPF shell, navegação e dashboard
- Performance tuning, hardening, documentação
- Empacotamento MSIX e plano de lançamento

Critérios de aceite:

- [ ] Desktop pronto para beta
- [ ] Processos operacionais e playbooks

Riscos e mitigação (exemplos):

- OAuth desktop complexo → device code flow + WebView2 opcional (futuro)
- Rate limiting → filas internas, backoff, priorização
- Mudanças de APIs → camada de abstração + fallback
 - Alinhamento de versões RC/GA (.NET 10, EF/Npgsql) → monitorar releases e atualizar para GA assim que disponível

Marcos:

- Milestone 1: Foundation completa (fim Fase 1)
- Milestone 2: Core features (fim Fase 2)
- Milestone 3: Multi‑network pronto (fim Fase 3)
- Milestone 4: Beta/Go‑live (fim Fase 4)
